<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trabajo 17</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Arial, sans-serif;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        padding: 20px;
      }

      .calculadora {
        width: 320px;
        background-color: #1a1a1a;
        border-radius: 15px;
        padding: 25px;
      }

      .pantalla {
        width: 100%;
        height: 80px;
        background-color: #0a0a0a;
        color: #fff;
        font-size: 32px;
        text-align: right;
        padding: 15px 20px;
        border-radius: 10px;
        margin-bottom: 25px;
        border: 1px solid #333;
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }

      .botones {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        grid-gap: 12px;
      }

      .boton {
        height: 55px;
        border: none;
        border-radius: 8px;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .numero {
        background-color: #333;
        color: white;
      }

      .numero:hover {
        background-color: #444;
      }
      .operador {
        background-color: #ff9500;
        color: white;
      }

      .operador:hover {
        background-color: #ffaa33;
      }
      .potencia {
        background-color: #f38f02;
        color: white;
      }

      .pontecia:hover {
        background-color: #ffaa33;
      }
      .raizCuadrada {
        background-color: #ff9500;
        color: white;
      }

      .raizCuadrada:hover {
        background-color: #ffaa33;
      }

      .funcion {
        background-color: #a6a6a6;
        color: black;
      }

      .funcion:hover {
        background-color: #bbbbbb;
      }

      .igual {
        background-color: #28a745;
        color: white;
        grid-column: span 2;
        font-size: 24px;
      }

      .igual:hover {
        background-color: #34ce57;
      }

      .limpiar {
        background-color: #d9534f;
        color: white;
      }

      .limpiar:hover {
        background-color: #e57373;
      }
      .borrar {
        background-color: #6b61f7;
        color: white;
      }
      .borrar:hover {
        background-color: #869de9;
      }

      .info {
        margin-top: 15px;
        text-align: center;
        color: #666;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="calculadora">
      <div class="pantalla">0</div>
      <div class="botones">
        <button class="boton numero">1</button>
        <button class="boton numero">2</button>
        <button class="boton numero">3</button>
        <button class="boton operador" id="mas">+</button>
        <button class="boton operador" id="resta">-</button>

        <button class="boton numero">4</button>
        <button class="boton numero">5</button>
        <button class="boton numero">6</button>
        <button class="boton operador" id="multiplicacion">x</button>
        <button class="boton operador" id="division">÷</button>

        <button class="boton numero">7</button>
        <button class="boton numero">8</button>
        <button class="boton numero">9</button>
        <button class="boton potencia">^</button>
        <button class="boton raizCuadrada">√</button>

        <button class="boton numero">0</button>
        <button class="boton borrar">C</button>
        <button class="boton limpiar">AC</button>
        <button class="boton igual">=</button>
      </div>
    </div>
    <script>
      const pantalla = document.querySelector(".pantalla");
      const botonesNumeros = document.querySelectorAll(".numero");
      const botonBorrar = document.querySelector(".borrar");
      const botonLimpiar = document.querySelector(".limpiar");
      const botonSuma = document.querySelector("#mas");
      const botonResta = document.querySelector("#resta");
      const botonMultiplicacion = document.querySelector("#multiplicacion");
      const botonDivision = document.querySelector("#division");
      const botonIgual = document.querySelector(".igual");
      const botonPotencia = document.querySelector(".potencia");
      const botonraizCuadrada = document.querySelector(".raizCuadrada");

      let primerNumero = 0;
      let operacionPendiente = "";
      let resultado = 0;
      let nuevaOperacion = false;

      botonesNumeros.forEach((boton) => {
        boton.addEventListener("click", () => {
          const numero = boton.textContent;

          if (pantalla.textContent == "0" || nuevaOperacion ) {
            pantalla.textContent = numero;
            nuevaOperacion = false;
            
            if (operacionPendiente === "") {
              resultado =0;
              primerNumero =0;
            }
          } else {
            pantalla.textContent += numero;
          }
        });
      });
      botonBorrar.addEventListener("click", () => {
        let textoactual = pantalla.textContent;

        if (textoactual.length > 1) {
          let nuevoTexto = "";

          for (let i = 0; i < textoactual.length - 1; i++) {
            nuevoTexto += textoactual[i];
          }
          pantalla.textContent = nuevoTexto;
        } else {
          pantalla.textContent = "0";
        }
      });

      botonLimpiar.addEventListener("click", () => {
        pantalla.textContent = "0";
        resultado = 0; 
        operacionPendiente = "";
        nuevaOperacion = false;
      });

      botonSuma.addEventListener("click", () => {
         nuevaOperacion = false;
        primerNumero = parseFloat(pantalla.textContent);
        switch (operacionPendiente) {
          case "suma":
            resultado = resultado + primerNumero;
            break;
          case "multiplicacion":
            resultado = resultado * primerNumero;
            primerNumero = 0;
            break;
          case "division":
            resultado = resultado / primerNumero;
            primerNumero = 0;
            break;
          case "resta":
            resultado = resultado - primerNumero;
            primerNumero = 0;
            break;
          case "potencia":
            resultado = Math.pow(resultado, primerNumero);
            break;
          case "raizCuadrada":
            resultado = Math.sqrt(resultado, primerNumero);
            primerNumero = 0;
            break;
          default:
            resultado = primerNumero;
            break;
        }
        if (operacionPendiente === "") {
          resultado = primerNumero;
        } else {
        }
        operacionPendiente = "suma";
        pantalla.textContent = "0";
      });

      botonResta.addEventListener("click", () => {
         nuevaOperacion = false;
        primerNumero = parseFloat(pantalla.textContent);

        switch (operacionPendiente) {
          case "suma":
            resultado = resultado + primerNumero;
            primerNumero = 0;
            break;
          case "multiplicacion":
            resultado = resultado * primerNumero;
            primerNumero = 0;
            break;
          case "division":
            resultado = resultado / primerNumero;
            primerNumero = 0;
            break;
          case "resta":
            resultado = resultado - primerNumero;
            break;
          case "potencia":
            resultado = Math.pow(resultado, primerNumero);
            break;
          case "raizCuadrada":
            resultado = Math.sqrt(resultado, primerNumero);
            primerNumero = 0;
            break;
          default:
            resultado = primerNumero;
            break;
        }
        operacionPendiente = "resta";
        pantalla.textContent = "0";
      });

      botonMultiplicacion.addEventListener("click", () => {
         nuevaOperacion = false;
        primerNumero = parseFloat(pantalla.textContent);
        switch (operacionPendiente) {
          case "suma":
            resultado = resultado + primerNumero;
            primerNumero = 0;
            break;
          case "multiplicacion":
            resultado = resultado * primerNumero;
            break;
          case "division":
            resultado = resultado / primerNumero;
            primerNumero = 0;
            break;
          case "resta":
            resultado = resultado - primerNumero;
            primerNumero = 0;
            break;
          case "potencia":
            resultado = Math.pow(resultado, primerNumero);
            break;
          case "raizCuadrada":
            resultado = Math.sqrt(resultado, primerNumero);
            primerNumero = 0;
            break;
          default:
            resultado = primerNumero;
            break;
        }
        operacionPendiente = "multiplicacion";
        pantalla.textContent = "0";
      });

      botonDivision.addEventListener("click", () => {
         nuevaOperacion = false;
        primerNumero = parseFloat(pantalla.textContent);
        switch (operacionPendiente) {
          case "suma":
            resultado = resultado + primerNumero;
            primerNumero = 0;
            break;
          case "multiplicacion":
            console.log(resultado);
            
            resultado = resultado * primerNumero;
            primerNumero = 0;
            console.log(resultado);
            break;
          case "division":
            resultado = resultado / primerNumero;
            break;
          case "resta":
            resultado = resultado - primerNumero;
            primerNumero = 0;
            break;
          case "potencia":
            resultado = Math.pow(resultado, primerNumero);
            break;
          case "raizCuadrada":
            resultado = Math.sqrt(resultado);
            primerNumero = 0;
            break;
          default:
            resultado = primerNumero;
            break;
        }
        operacionPendiente = "division";
        pantalla.textContent = "0";
      });

      botonPotencia.addEventListener("click", () => {
         nuevaOperacion = false;
        primerNumero = parseFloat(pantalla.textContent);
        switch (operacionPendiente) {
          case "suma":
            resultado = resultado + primerNumero;
            primerNumero = 0;
            break;
          case "multiplicacion":
            resultado = resultado * primerNumero;
            primerNumero = 0;
            break;
          case "division":
            resultado = resultado / primerNumero;
            primerNumero = 0;
            break;
          case "resta":
            resultado = resultado - primerNumero;
            primerNumero = 0;
            break;
          case "potencia":
            resultado = Math.pow(resultado, primerNumero);
            break;
          case "raizCuadrada":
            resultado = Math.sqrt(resultado);
            primerNumero = 0;
            break;
          default:
            resultado = primerNumero;
            break;
        }
        operacionPendiente = "potencia";
        pantalla.textContent = "0";
      });

      botonraizCuadrada.addEventListener("click", () => {
         nuevaOperacion = false;
        primerNumero = parseFloat(pantalla.textContent);
        switch (operacionPendiente) {
          case "suma":
            resultado = resultado + primerNumero;
            break;
          case "multiplicacion":
            console.log(resultado);
            
            resultado = resultado * primerNumero;
            resultado = Math.sqrt(resultado);
            console.log(resultado);
            break;
          case "division":
            resultado = resultado / primerNumero;
            resultado = Math.sqrt(resultado);
            break;
          case "resta":
            console.log(resultado);
            
            resultado = resultado - primerNumero;
            resultado = Math.sqrt(resultado);
            console.log(resultado);
            break;
          case "potencia":
          console.log(resultado, primerNumero);
          
          resultado = Math.pow(resultado, primerNumero);
          console.log(resultado);
          resultado = Math.sqrt(resultado);
          console.log(resultado);
            break;
          case "raizCuadrada":
            console.log(resultado);
            
            resultado = Math.sqrt(resultado);
             primerNumero = 0;
             console.log(resultado);
          default:
            resultado = Math.sqrt(primerNumero);
            break;
        }

        pantalla.textContent = resultado.toFixed(2);
        operacionPendiente = "";

        primerNumero = resultado;
      });

      botonIgual.addEventListener("click", () => {
        if (operacionPendiente ==="") {
          resultado = parseFloat(pantalla.textContent);
        } else {
        if (operacionPendiente === "suma") {
          resultado = resultado + parseFloat(pantalla.textContent);
        } else if (operacionPendiente === "resta") {
          resultado = resultado - parseFloat(pantalla.textContent);
        } else if (operacionPendiente === "multiplicacion") {
          resultado = resultado * parseFloat(pantalla.textContent);
        } else if (operacionPendiente === "division") {
          resultado = resultado / parseFloat(pantalla.textContent);
        } else if (operacionPendiente === "potencia") {
          resultado = Math.pow(resultado, parseFloat(pantalla.textContent));
        }
      }
        pantalla.textContent = resultado.toFixed(2);
        operacionPendiente = "";
        nuevaOperacion = true;
      });
    </script>
  </body>
</html>
